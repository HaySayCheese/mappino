<div class="modal publication-view-modal fade" ng-controller="PublicationViewCtrl">
    <div class="modal-dialog" ng-switch on="publicationViewPart">



        <div class="modal-content content-white photos-modal" ng-switch-when="Photos">
            <div id="publication-view-carousel" class="carousel slide" data-ride="carousel" ng-init="publication.photos.length">

                <ol class="carousel-indicators">
                    <li ng-repeat="photo in publication.photos" data-target="#publication-view-carousel" data-slide-to="[[ $index ]]" ng-class="{ active : $first }"></li>
                </ol>

                <div class="carousel-inner">
                    <div class="item" ng-repeat="photo in publication.photos" ng-class="{ active : $first }">
                        <img ng-src="[[ photo ]]">
                    </div>
                </div>

                <a class="left carousel-control" ng-href="#publication-view-carousel" data-slide="prev" ng-click="$event.preventDefault()">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                </a>
                <a class="right carousel-control" ng-href="#publication-view-carousel" data-slide="next" ng-click="$event.preventDefault()">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                </a>
                <div class="btn btn-success close-photos-btn" ng-click="changeBasePart()">Вернуться к описанию</div>
            </div>
        </div>




        <div class="modal-content content-white" ng-switch-when="Detailed">
            <div class="publication-photo pull-left">
                <img ng-src="[[ publication.title_photo ]]" ng-show="publication.title_photo" ng-click="changeBasePart()"/>
                <div class="no-photo" ng-hide="publication.title_photo">
                    <div class="text">
                        К сожалению, нет ни одной фотографии
                    </div>
                </div>
                <div class="counter" ng-hide="!publication.title_photo">
                    Фото<br/> 1 / [[ publication.photos.length ]]
                </div>
            </div>

            <div class="publication-content pull-right">
                <div class="publication-content-header">
                    <span ng-show="publicationViewDetailedPart == 'Description'">[[ publication.title ]]</span>
                    <img class="close" src="{{ static }}img/main/publication-view/detailed-close.png" data-dismiss="modal"/>
                </div>

                <div class="publication-content-body" ng-switch on="publicationViewDetailedPart">

                    <div ng-switch-when="Contacts" ng-controller="PublicationViewContactsCtrl">
                        <div class="contacts-loading" ng-hide="contactsLoaded"></div>

                        <div ng-show="contactsLoaded">
                            <div class="user-photo">
                                <img src="{{ static }}img/main/publication-view/mark.png"/>
                            </div>
                            <div class="user-name">
                                [[ contacts.first_name ]] [[ contacts.last_name ]]
                            </div>
                            <div class="user-phones">
                                моб. телефон: [[ contacts.mobile_phone ]]<span ng-show="contacts.add_mobile_phone">, [[ contacts.add_mobile_phone ]]</span><br/>
                                роб. телефон: [[ contacts.landline_phone ]]<span ng-show="contacts.add_landline_phone">, [[ contacts.add_landline_phone ]]</span><br/>
                                Email: [[ contacts.email ]]<br/>
                                Skype: [[ contacts.skype ]]
                            </div>
                            <div class="user-btns">
                                <div class="btn btn-primary btn-block">Заказать обратный звонок</div>
                                <div class="btn btn-default btn-block" ng-click="sendingMessage = true" ng-hide="sendingMessage">Оставить сообщение</div>
                            </div>
                            <div class="user-message" ng-show="sendingMessage">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="row">
                                            <div class="col-sm-5">
                                                <input type="text" class="form-control" placeholder="Имя"ng-model="message.name">
                                            </div>
                                            <div class="col-sm-7">
                                                <input type="text" class="form-control" placeholder="Email" ng-model="message.email">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <textarea class="form-control" rows="2" placeholder="Введите текст сообщения" ng-model="message.text"></textarea>
                                <div class="btn btn-default" ng-click="cancelSendMessage()">Отменить</div>
                                <div class="btn btn-primary pull-right send-btn" ng-click="sendMessage()" data-loading-text="Отправка данных..." ng-disabled="!message.text || !message.email">Отправить сообщение</div>
                            </div>
                        </div>
                    </div>



                    <div class="publication-loading" ng-hide="publicationLoaded"></div>

                    <div ng-switch-when="Description" ng-show="publicationLoaded">
                        <div class="description" ng-show="publication.description">
                            [[ publication.description ]]
                        </div>
                        <div class="properties">
                            <div class="left">
                                <table>
                                    <tr ng-show="publication.market_type">
                                        <td>Тип рынка:</td>
                                        <td>[[ publication.market_type ]]</td>
                                    </tr>
                                    <tr ng-show="publication.building_type">
                                        <td>Тип здания:</td>
                                        <td>[[ publication.building_type ]]</td>
                                    </tr>
                                    <tr ng-show="publication.build_year">
                                        <td>Год постройки:</td>
                                        <td>[[ publication.build_year ]]</td>
                                    </tr>
                                    <tr ng-show="publication.age">
                                        <td>Возраст бизнеса:</td>
                                        <td>[[ publication.age ]]</td>
                                    </tr>
                                    <tr ng-show="publication.flat_type">
                                        <td>Тип квартиры:</td>
                                        <td>[[ publication.flat_type ]]</td>
                                    </tr>
                                    <tr ng-show="publication.rooms_planning">
                                        <td>Планировка:</td>
                                        <td>[[ publication.rooms_planning ]]</td>
                                    </tr>
                                    <tr ng-show="publication.total_area">
                                        <td>Общая площадь:</td>
                                        <td>[[ publication.total_area ]]</td>
                                    </tr>
                                    <tr ng-show="publication.area">
                                        <td>Площадь:</td>
                                        <td>[[ publication.area ]]</td>
                                    </tr>
                                    <tr ng-show="publication.living_area">
                                        <td>Жилая площадь:</td>
                                        <td>[[ publication.living_area ]]</td>
                                    </tr>
                                    <tr ng-show="publication.kitchen_area">
                                        <td>Площадь кухни:</td>
                                        <td>[[ publication.kitchen_area ]]</td>
                                    </tr>
                                    <tr ng-show="publication.halls_area">
                                        <td>Площадь залов:</td>
                                        <td>[[ publication.halls_area ]]</td>
                                    </tr>
                                    <tr ng-show="publication.plot_area">
                                        <td>Площадь участка:</td>
                                        <td>[[ publication.plot_area ]]</td>
                                    </tr>
                                    <tr ng-show="publication.driveways">
                                        <td>Подъездные пути:</td>
                                        <td>[[ publication.driveways ]]</td>
                                    </tr>
                                    <tr ng-show="publication.share">
                                        <td>Долевое участие:</td>
                                        <td>[[ publication.share ]]</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="right">
                                <table>
                                    <tr ng-show="publication.floor">
                                        <td>Этаж:</td>
                                        <td>[[ publication.floor ]]</td>
                                    </tr>
                                    <tr ng-show="publication.floors_count">
                                        <td>Этажей:</td>
                                        <td>[[ publication.floors_count ]]</td>
                                    </tr>
                                    <tr ng-show="publication.condition">
                                        <td>Состояние:</td>
                                        <td>[[ publication.condition ]]</td>
                                    </tr>
                                    <tr ng-show="publication.monthly_cost">
                                        <td>Расходы / мес.:</td>
                                        <td>[[ publication.monthly_cost ]]</td>
                                    </tr>
                                    <tr ng-show="publication.annual_receipts">
                                        <td>Год. выручка:</td>
                                        <td>[[ publication.annual_receipts ]]</td>
                                    </tr>
                                    <tr ng-show="publication.rooms_count">
                                        <td>Кол-во комнат:</td>
                                        <td>[[ publication.rooms_count ]]</td>
                                    </tr>
                                    <tr ng-show="publication.bedrooms_count">
                                        <td>Кол-во спален:</td>
                                        <td>[[ publication.bedrooms_count ]]</td>
                                    </tr>
                                    <tr ng-show="publication.vcs_count">
                                        <td>Кол-во сан. узлов:</td>
                                        <td>[[ publication.vcs_count ]]</td>
                                    </tr>
                                    <tr ng-show="publication.balconies_count">
                                        <td>Кол-во балконов:</td>
                                        <td>[[ publication.balconies_count ]]</td>
                                    </tr>
                                    <tr ng-show="publication.loggias_count">
                                        <td>Кол-во лоджий:</td>
                                        <td>[[ publication.loggias_count ]]</td>
                                    </tr>
                                    <tr ng-show="publication.halls_count">
                                        <td>Кол-во залов:</td>
                                        <td>[[ publication.halls_count ]]</td>
                                    </tr>
                                    <tr ng-show="publication.cabinets_count">
                                        <td>Кол-во кабинетов:</td>
                                        <td>[[ publication.cabinets_count ]]</td>
                                    </tr>
                                    <tr ng-show="publication.ceiling_height">
                                        <td>Высота потолков:</td>
                                        <td>[[ publication.ceiling_height ]]</td>
                                    </tr>
                                    <tr ng-show="publication.workers_count">
                                        <td>Работников:</td>
                                        <td>[[ publication.workers_count ]]</td>
                                    </tr>
                                    <tr ng-show="publication.pit">
                                        <td>Яма:</td>
                                        <td>[[ publication.pit ]]</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="other-properties" ng-show="publication.facilities">
                            <span class="section-header">Удобства: </span>
                            [[ publication.facilities ]]
                        </div>
                        <div class="property-price" ng-show="publication.sale_price_uah">
                            Продажа: [[ publication.sale_price_dol ]], [[ publication.sale_price_eur ]], [[ publication.sale_price_uah ]]
                        </div>
                        <div class="other-properties" ng-show="publication.sale_terms">
                            [[ publication.sale_terms ]]
                        </div>
                        <div class="property-price" ng-show="publication.rent_price_uah">
                            Аренда: [[ publication.rent_price_dol ]], [[ publication.rent_price_eur ]], [[ publication.rent_price_uah ]]
                        </div>
                        <div class="other-properties" ng-show="publication.rent_terms">
                            [[ publication.rent_terms ]]
                        </div>
                        <div class="other-properties" ng-show="publication.rent_facilities">
                            <span class="section-header">Удобства аренды: </span>
                            [[ publication.rent_facilities ]]
                        </div>
                        <div class="other-properties" ng-show="publication.communications">
                            <span class="section-header">Коммуникации: </span>
                            [[ publication.communications ]]
                        </div>
                        <div class="other-properties" ng-show="publication.buildings">
                            <span class="section-header">Дополнительные постройки: </span>
                            [[ publication.buildings ]]
                        </div>
                        <div class="other-properties" ng-show="publication.showplaces">
                            <span class="section-header">Рядом находиться: </span>
                            [[ publication.showplaces ]]
                        </div>
                    </div>
                </div>
                <div class="publication-content-footer">
                    <div class="btn-group btn-group-justified">
                        <a type="button" class="btn btn-success btn-xlg" ng-click="changeDetailedPart()">
                            <span ng-show="publicationViewDetailedPart == 'Contacts'">< Вернуться к описанию</span>
                            <span ng-show="publicationViewDetailedPart == 'Description'">Связаться с продавцем</span>
                        </a>
                        <a type="button" class="btn btn-warning btn-xlg">2</a>
                        <a type="button" class="btn btn-primary btn-xlg">3</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>