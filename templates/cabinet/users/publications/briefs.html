<div class="briefs-page md-padding" ng-controller="BriefsController as briefsCtrl"
     layout-wrap layout="column" layout-gt-lg="row" layout-align-md="start center" layout-align-lg="start center">


    <md-card flex="32">
        <md-card-content layout="column">
            <div layout="column" layout-align="center center">
                <img src="{{ static }}build/images/cabinet/brief-new-publication.gif" alt=""/>
                <h3 class="grey-text text-darken-2">Добавить новое объявление</h3>

                <md-select placeholder="Realty type" ng-model="newPublication.tid">
                    <md-option ng-repeat="type in CONSTANTS.REALTY_TYPES" value="[[ type.id ]]">[[ type.title ]]</md-option>
                </md-select>

                <div layout="row">
                    <md-checkbox class="md-primary" ng-model="newPublication.for_sale" aria-label="Продажа">
                        Продажа
                    </md-checkbox>
                    <md-checkbox class="md-primary" ng-model="newPublication.for_rent" aria-label="Аренда">
                        Аренда
                    </md-checkbox>
                </div>

                <md-button class="md-fab md-primary publication-create-button" ng-click="briefsCtrl.createPublication()">
                    <md-icon>create</md-icon>
                </md-button>
            </div>
        </md-card-content>
    </md-card>

    <md-card class="-fake" flex="32" ng-hide="briefs.length"></md-card>
    <md-card class="-fake" flex="32" ng-hide="briefs.length"></md-card>


    <md-card ng-repeat="brief in briefs" flex="32">
        <img class="md-card-image" ng-src="[[ brief.photo_url ]]" on-error-src="{{ static }}build/images/common/image-404.png" alt="">
        <md-card-content>
            <div class="brief-status -published" layout="row" layout-align="start center" ng-show="brief.state_sid == 0">
                <md-icon>done</md-icon>
                <span>Опубликовано</span>
                <span flex></span>
            </div>
            <div class="brief-status -unpublished" layout="row" layout-align="start center" ng-show="brief.state_sid == 1">
                <span>Не опубликовано</span>
                <span flex></span>
            </div>
            <h2 class="md-title">[[ brief.title ]]</h2>

            <p>[[ brief.description ]]</p>
        </md-card-content>
        <div class="md-actions" layout="row" layout-align="end center">
            <md-button class="md-primary md-hue-1" ui-sref="publication_edit({ id: brief.tid + ':' + brief.id })">
                Редактировать
            </md-button>
            <md-button class="md-primary md-hue-1" ui-sref="publication_view({ id: brief.tid + ':' + brief.id })">
                Посмотреть
            </md-button>
        </div>
    </md-card>


    <md-card class="-fake" flex="32" ng-show="briefs.length"></md-card>
</div>

