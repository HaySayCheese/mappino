{"version":3,"sources":["ng-tiny-scrollbar.js"],"names":["angular","module","directive","t","e","o","i","restrict","transclude","template","controller","n","s","a","l","z","contentRatio","contentPosition","contentSize","viewportSize","c","M","P","on","u","x","h","k","m","element","r","options","wheel","$","p","autoUpdate","MutationObserver","update","observe","childList","subtree","characterData","attributes","originalEvent","event","touches","length","stopPropagation","b","addClass","alwaysVisible","C","R","pageX","pageY","thumbPosition","parseInt","css","X","g","v","d","w","cancel","removeClass","axis","toUpperCase","deltaX","Y","deltaY","deltaMode","wheelSpeed","scrollInvert","wheelDelta","wheelDeltaX","Math","min","max","dispatchEvent","A","trackRatio","y","wheelLock","preventDefault","type","trackSize","thumbSize","off","f","S","scrollbar","this","extend","_defaults","document","querySelectorAll","onmousewheel","E","V","charAt","slice","toLowerCase","createEvent","initEvent","initialize","prop","toggleClass","isNaN","then","$digest","cleanup","link","getComputedStyle","getPropertyValue"],"mappings":"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","file":"ng-tiny-scrollbar.js","sourcesContent":["/*!\r\n Copyright 2014 Vadim Kazakov\r\n Adapted from source by Maarten Baijs\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\"use strict\";angular.module(\"ngTinyScrollbar\",[]).directive(\"scrollbar\",[\"$window\",\"$timeout\",\"$parse\",\"$animate\",function(t,e,o,i){return{restrict:\"A\",transclude:!0,template:'<div class=\"scroll-bar\"><div class=\"scroll-thumb\"></div></div><div class=\"scroll-viewport\"><div class=\"scroll-overview\" ng-transclude></div></div>',controller:[\"$scope\",\"$element\",\"$attrs\",function(n,s,a){function l(){z.contentRatio<=1&&z.contentPosition>z.contentSize-z.viewportSize?z.contentPosition=z.contentSize-z.viewportSize:z.contentRatio>1&&z.contentPosition>0&&(z.contentPosition=0)}function c(){if(M&&P.on(\"touchstart\",u),x.on(\"mousedown\",h),k.on(\"mousedown\",m),angular.element(t).on(\"resize\",r),z.options.wheel&&s.on($,p),z.options.autoUpdate&&MutationObserver){var e=new MutationObserver(function(){z.update()});e.observe(s[0],{childList:!0,subtree:!0,characterData:!0,attributes:!0})}}function r(){z.update()}function u(e){var o=e&&e.originalEvent||e||t.event;1===o.touches.length&&(e.stopPropagation(),h(o.touches[0]))}function h(t){b.addClass(\"scroll-no-select\"),s.addClass(\"scroll-no-select\"),z.options.alwaysVisible||k.addClass(\"visible\"),C=R?t.pageX:t.pageY,z.thumbPosition=parseInt(x.css(X),10)||0,M&&(g.on(\"touchmove\",v),g.on(\"touchend\",d)),g.on(\"mousemove\",m),g.on(\"mouseup\",d),x.on(\"mouseup\",d)}function p(o){if(!(z.contentRatio>=1)){z.options.alwaysVisible||(w&&e.cancel(w),k.addClass(\"visible\"),w=e(function(){k.removeClass(\"visible\")},100));var i=o&&o.originalEvent||o||t.event,n=z.options.axis.toUpperCase(),a={X:i.deltaX,Y:i.deltaY},c=0==i.deltaMode?z.options.wheelSpeed:1;z.options.scrollInvert&&(c*=-1),\"mousewheel\"===$&&(a.Y=-1*i.wheelDelta/40,i.wheelDeltaX&&(a.X=-1*i.wheelDeltaX/40)),a.X*=-1/c,a.Y*=-1/c;var r=a[n];z.contentPosition-=r*z.options.wheelSpeed,z.contentPosition=Math.min(z.contentSize-z.viewportSize,Math.max(0,z.contentPosition)),s[0].dispatchEvent(A),l(),x.css(X,z.contentPosition/z.trackRatio+\"px\"),y.css(X,-z.contentPosition+\"px\"),(z.options.wheelLock||z.contentPosition!==z.contentSize-z.viewportSize&&0!==z.contentPosition)&&i.preventDefault()}}function v(e){var o=e&&e.originalEvent||e||t.event;1===o.touches.length&&(e.preventDefault(),m(o.touches[0]))}function m(t){if(!(z.contentRatio>=1)){var e=R?t.pageX:t.pageY,o=e-C;(z.options.scrollInvert&&\"mousemove\"===t.type||\"mousemove\"!==t.type&&!z.options.scrollInvert)&&(o=C-e);var i=Math.min(z.trackSize-z.thumbSize,Math.max(0,z.thumbPosition+o));z.contentPosition=i*z.trackRatio,s[0].dispatchEvent(A),l(),x.css(X,i+\"px\"),y.css(X,-z.contentPosition+\"px\")}}function d(){b.removeClass(\"scroll-no-select\"),s.removeClass(\"scroll-no-select\"),z.options.alwaysVisible||k.removeClass(\"visible\"),g.off(\"mousemove\",m),g.off(\"mouseup\",d),x.off(\"mouseup\",d),g.off(\"touchmove\",v),g.off(\"ontouchend\",d)}var f={axis:\"y\",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1,alwaysVisible:!0,autoUpdate:!1},S=a.scrollbar;S=S?o(S)(n):{},this.options=angular.extend({},f,S),this._defaults=f;var w,z=this,b=angular.element(document.querySelectorAll(\"body\")[0]),g=angular.element(document),P=angular.element(s[0].querySelectorAll(\".scroll-viewport\")[0]),y=angular.element(s[0].querySelectorAll(\".scroll-overview\")[0]),k=angular.element(s[0].querySelectorAll(\".scroll-bar\")[0]),x=angular.element(s[0].querySelectorAll(\".scroll-thumb\")[0]),C=0,R=\"x\"===this.options.axis,M=\"ontouchstart\"in t,$=\"onwheel\"in document?\"wheel\":void 0!==document.onmousewheel?\"mousewheel\":\"DOMMouseScroll\",E=R?\"width\":\"height\",V=E.charAt(0).toUpperCase()+E.slice(1).toLowerCase(),X=R?\"left\":\"top\",A=document.createEvent(\"HTMLEvents\");A.initEvent(\"move\",!0,!0),this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.initialize=function(){return this.options.alwaysVisible||k.css(\"opacity\",0),z.update(),c(),z},this.update=function(t){if(this.viewportSize=P.prop(\"offset\"+V),this.contentSize=y.prop(\"scroll\"+V),this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,C=k.prop(\"offsetTop\"),k.toggleClass(\"disable\",this.contentRatio>=1||isNaN(this.contentRatio)),!this.options.alwaysVisible&&this.contentRatio<1&&this.viewportSize>0&&i.addClass(k,\"visible\").then(function(){i.removeClass(k,\"visible\"),n.$digest()}),null!=t)switch(t){case\"bottom\":this.contentPosition=this.contentSize-this.viewportSize;break;default:this.contentPosition=parseInt(t,10)||0}return l(),x.css(X,z.contentPosition/z.trackRatio+\"px\"),k.css(E,z.trackSize+\"px\"),x.css(E,z.thumbSize+\"px\"),y.css(X,-z.contentPosition+\"px\"),this},this.cleanup=function(){P.off(\"touchstart\",u),x.off(\"mousedown\",h),k.off(\"mousedown\",m),angular.element(t).off(\"resize\",r),s.off($,p),z.options.alwaysVisible=!0,d()}}],link:function(e,o,i,n){var s=t.getComputedStyle(o[0]).getPropertyValue(\"position\");\"relative\"!==s&&\"absolute\"!==s&&o.css(\"position\",\"relative\"),n.initialize(),o.on(\"$destroy\",function(){n.cleanup()})}}}]);"],"sourceRoot":"/source/"}