// Generated by CoffeeScript 1.9.2
(function() {
  'use strict';

  /**
   * @class
   * @description todo: add desc
   * @version 0.1.0
   * @license todo: add license
   */
  var MFavoritesService;

  MFavoritesService = (function() {
    function MFavoritesService(http1) {
      this.http = http1;
      this.bookmarks = [];
    }


    /**
     * @public
     * @description Add publication to favorites
    #
     * @param {(string|number)} tid              - Publication type id
     * @param {(string|number)} hid              - Publication hash id
     * @param {function()} [successCallback]     - Success callback
     * @param {function()} [errorCallback]       - Error callback
     */

    MFavoritesService.prototype.add = function(tid, hid, successCallback, errorCallback) {
      var request;
      request = this.http.post("/ajax/api/favorites/", {
        'tid': tid,
        'hid': hid
      });
      request.success(function(response) {
        if (response.code === 0) {
          _.isFunction(successCallback) && successCallback();
        }
        if (response.code !== 0) {
          return _.isFunction(errorCallback) && errorCallback({
            'code': response.code
          });
        }
      });
      return request.error(function() {
        return _.isFunction(errorCallback) && errorCallback();
      });
    };

    return MFavoritesService;

  })();

  angular.module('mappino.pages.map').factory('MFavoritesService', [
    '$http', function(http) {
      return new MFavoritesService(http);
    }
  ]);

}).call(this);

//# sourceMappingURL=favorites.service.js.map
