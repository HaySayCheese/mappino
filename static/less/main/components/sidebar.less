//
// Load core variables and mixins
// --------------------------------------------------
@import "../../components/variables";
@import "../../components/mixins.less";


.sidebar {
    position: absolute;

    top: 30px;
    right: 30px;
    bottom: 30px;

    z-index: 1020;

    width: 370px;

    background: #ffffff;
    .box-shadow(~"0 0 15px rgba(0, 0, 0, 0.4)");

    .sidebar-body,
    .sidebar-footer {
        display: block;
        padding: 10px;
    }


    &.animated {
        animation-duration: 1s;
        animation-fill-mode: both;
    }
    @keyframes fadeInRight {
        0% {
            opacity: 0;
            transform: translate3d(100%, 0, 0);
        }
        100% {
            opacity: 1;
            transform: none;
        }
    }
    &.fadeInRight {
        animation-name: fadeInRight;
    }
    @keyframes fadeOutRight {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
            transform: translate3d(120%, 0, 0);
        }
    }

    &.fadeOutRight {
        animation-name: fadeOutRight;
    }
}

.sidebar-header {
    display: block;

    .sidebar-header-links {
        .size(100%, 38px);

        background: #f2f1ef;
        border-bottom: 1px solid #e5e1d9;

        font-size: @font-size-h6;

        ul {
            height: 38px;
            padding: 12px 15px;
            list-style: none;
            margin: 0;
            float: left;

            li {
                display: inline-block;
            }
        }

        .divider {
            padding: 0 3px;
            color: #b0b0b0;
        }

        .sidebar-collapse-btn {
            .square(38px);
            padding: 11px 0;
            float: right;
            
            text-align: center;
            font-size: 14px;

            cursor: pointer;

            color: #b0b0b0;
            border-left: 1px solid #e5e1d9;
            border-bottom: 1px solid #e5e1d9;

            &:hover,
            &:active {
                background-color: #EDECEA;
            }
        }
    }

    .sidebar-header-city-search {
        display: block;
        height: 80px;

        padding: 20px 10px;

        background: white;
        text-align: center;

        .sidebar-city-input {
            border: none;
            border-bottom: 1px dashed #ccc;
            border-radius: 0;
            .box-shadow(none);

            &:focus {
                //border-bottom: none;
                .transition(~"box-shadow 0.1s ease");
                .box-shadow(~"0 0 6px rgba(0, 0, 0, 0.3)");
            }
        }
    }
}

.sidebar-body {
    position: relative;
    display: block;

    padding: 0 !important;

    height: ~"calc(100% - 175px)";

    .red-markers-panel-icon,
    .blue-markers-panel-icon,
    .green-markers-panel-icon,
    .yellow-markers-panel-icon {
        position: relative;

        background-size: 31px 34px;
        background-position: right bottom;
        background-repeat: no-repeat;

        cursor: pointer;


        &:after {
            position: absolute;

            right: 0;
            bottom: -8px;
            width: 0;

            height: 0;
            border-top-width: 8px;
            border-top-style: solid;
            border-right: 8px solid transparent;

            content: " ";
        }
    }

    .red-markers-panel-icon {
        background-image: url("../../img/main/sidebar/red-panel-marker.png");

        &:after {
            border-top-color: darken(@panel-danger-heading-bg, 30%);
        }
    }
    .blue-markers-panel-icon {
        background-image: url("../../img/main/sidebar/blue-panel-marker.png");

        &:after {
            border-top-color: darken(@panel-primary-heading-bg, 25%);
        }
    }
    .green-markers-panel-icon {
        background-image: url("../../img/main/sidebar/green-panel-marker.png");

        &:after {
            border-top-color: darken(@panel-success-heading-bg, 25%);
        }
    }
    .yellow-markers-panel-icon {
        background-image: url("../../img/main/sidebar/yellow-panel-marker.png");

        &:after {
            border-top-color: darken(@panel-warning-heading-bg, 25%);
        }
    }

    .panel {
        margin-right: -8px;

        .panel-body {
            padding-top: 0px;
            padding-bottom: 0px;
            position: relative;
            overflow-y: hidden;
            padding-right: 23px;

            @media (min-height: 490px) and (max-height: 520px) {
                max-height: 110px;
            }
            @media (min-height: 520px) and (max-height: 550px) {
                max-height: 140px;
            }
            @media (min-height: 550px) and (max-height: 580px) {
                max-height: 170px;
            }
            @media (min-height: 580px) and (max-height: 610px) {
                max-height: 200px;
            }
            @media (min-height: 610px) and (max-height: 640px) {
                max-height: 230px;
            }
            @media (min-height: 640px) and (max-height: 670px) {
                max-height: 260px;
            }
            @media (min-height: 670px) and (max-height: 700px) {
                max-height: 290px;
            }
            @media (min-height: 700px) and (max-height: 730px) {
                max-height: 320px;
            }
            @media (min-height: 730px) and (max-height: 760px) {
                max-height: 350px;
            }
            @media (min-height: 760px) and (max-height: 790px) {
                max-height: 380px;
            }
            @media (min-height: 790px) and (max-height: 820px) {
                max-height: 410px;
            }
            @media (min-height: 820px) and (max-height: 850px) {
                max-height: 440px;
            }
            @media (min-height: 850px) and (max-height: 880px) {
                max-height: 470px;
            }
            @media (min-height: 880px) and (max-height: 910px) {
                max-height: 500px;
            }
            @media (min-height: 910px) and (max-height: 940px) {
                max-height: 530px;
            }
            @media (min-height: 940px) and (max-height: 970px) {
                max-height: 560px;
            }
            @media (min-height: 970px) and (max-height: 1000px) {
                max-height: 590px;
            }
            @media (min-height: 1000px) and (max-height: 1030px) {
                max-height: 620px;
            }

            .ps-scrollbar-y-rail {
                right: 10px;
            }

            > div > .form-horizontal {
                padding-top: 20px;
            }
        }
    }

    .section-header {
        color: #b0b0b0;
        text-align: center;
        padding-bottom: 5px;
        border-bottom: 1px solid @gray-lighter;
    }

    .form-group {
        margin-left: -5px;
        margin-right: -5px;
    }

    .without-margin-bottom {
        margin-bottom: 0;
    }

    .sidebar-loader {
        .size(100%, 64px);
        display: block;

        background: url("../../img/main/sidebar/ajax-loader.gif") center center no-repeat;
    }

    [class*='col-sm-'] {
        padding-right: 5px;
        padding-left: 5px;
    }

    .dropdown-toggle.selectpicker {
        border: 1px solid #cccccc !important;
    }
}

.sidebar-footer {
    border-top: 1px solid #e5e1d9;
    background: #f2f1ef;

    text-align: center;
    line-height: 36px;
    .clearfix();

    .sidebar-footer-text {
        color: lighten(@gray, 10%);
        float: left;
    }

    .sidebar-footer-social-links {
        float: right;
        .clearfix();

        > a {
            .square(35px);
            float: left;
        }

        > a:nth-child(1) {
            background-image: url("../../img/main/sidebar/v.png");
        }
        > a:nth-child(2) {
            background-image: url("../../img/main/sidebar/f.png");
        }
        > a:nth-child(3) {
            background-image: url("../../img/main/sidebar/t.png");
        }
        > a:nth-child(4) {
            background-image: url("../../img/main/sidebar/g.png");
        }
    }
}

.realtor-sidebar {
    .sidebar-body {
        height: ~"calc(100% - 105px)";
    }

    .realtor {
        > img.photo {
            .square(120px);
            margin-top: 20px;
            border-radius: 50%;
            border: 1px solid @gray-lighter;
            .center-block();
        }

        > .name {
            margin-top: 10px;
            font-size: @font-size-h3;
        }
    }
}